# get-packet
## 并发抢红包的小程序


### 所用技术:


* Spring5


* Mysql8


* redis


* lombok

### 问题背景与解决方案：


通过JS异步请求模拟30000次的并发请求。并用redis进行优化


执行过程大致如下：1.查询原有红包表中的数据，确定又库存；2.执行库存扣减；3.用户抢到红包存入相应的数据表中。


### 关于过量扣减的问题解决方法：


* 悲观锁 select ... for update


* 乐观锁，增加version字段，并且设置重试次数

